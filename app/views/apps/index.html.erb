<% title "Apps" %>
<% activate_nav! :discover %>

<%= render 'shared/navbar' %>

<% showcase = @showcases.find {|s| s.slug == params[:showcase]} %>

<%= react_component 'Apps',
      search: params[:search],
      filter: params[:filter] || 'trending',
      page: [params[:page].to_i, 1].max,
      topic: params[:topic],
      showcase: (showcase.nil? ? nil : ShowcaseSerializer.new(showcase) ),
      total_pages: @total_pages,
      topics: @topics,
      showcases: @showcases.map {|s| ShowcaseSerializer.new(s) }
%>

<%= render 'shared/footer' %>
